<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSS Census</title>
    <meta name="author" content="Justin">
    <meta name="description" content="">

    <!-- Tailwind -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.typekit.net/irn8ehh.css">

    <link rel="stylesheet" href="css/subpage.css">
    <style>
        li#ecosystem  { color:#2E6A5E; font-weight: bold;} 
    </style>

    <!-- JS Query for Navbar -->
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

    <!-- Graph 1 CSS and Script links -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>

    <!-- Font Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js" integrity="sha256-KzZiKy0DWYsnwMF+X1DvQngQ2/FxF7MF3Ff72XcpuPs=" crossorigin="anonymous"></script>
    
    <!-- JS tab switch and graph functions -->
    <script src="js/comparison_graphs.js"></script>
    <script src="js/tab_graphs.js"></script>
    <script src="js/data.js"></script>
    <script src="js/parse.js"></script>
    <script src="js/visualizations/graph_contributor.js"></script>
    <script src="js/visualizations/graph_commit.js"></script>
</head>


<body>
    <div class="bg-white font-family-karla">
        <!-- Load HTML from other pages, identified by id -->
        <script> 
            $(function(){
                $("#navigation").load("nav.html"); 
            });
            $(function(){
                $("#dataDescription").load("data_description.html"); 
            });
        </script> 


        <!-- Top Bar Nav -->
        <div id="navigation"></div>

        <!-- Header -->
        <div class="w-full p-16">
            <div class="text-primary lato-bold main-header">
                <center>Data By Ecosystem</center>
            </div>
            <br>
            <span class="pt-2 font-bold text-primary uppercase text-3xl font-family-quicksand1">
                <center>
                    View Data For a 
                    <span class = "text-primary3">Selected Ecosystem</span>
                    For All Years
                </center>
            </span>
        </div>

        <!-- Select Ecosystem Dropdown -->
        <div class = "w-full flex flex-col items-center">
            <div class="flex flex-col items-center justify-center w-1/2 mx-auto mb-6">
                <label for="ecosystem-select" class="font-bold block mb-2 font-medium text-gray-900 dark:text-gray-400">Choose an Ecosystem:</label>
                <select name="ecosystem" id="ecosystem-select" onchange="updateEco()" class="
                    block
                    w-1/3
                    px-2
                    py-1
                    text-center
                    my-3
                    text-base
                    text-center
                    font-normal
                    text-gray-700
                    bg-white bg-clip-padding bg-no-repeat
                    border border-solid border-gray-300
                    rounded-lg
                    transition
                    ease-in-out
                    focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"                    aria-expanded="true" aria-haspopup="true" aria-label="Default select">
                    <option value="" selected disabled hidden> --Select-- </option>
                    <option value="Atom">Atom</option>
                    <option value="Bower">Bower</option>
                    <option value="CPAN">CPAN</option>
                    <option value="CRAN">CRAN</option>
                    <option value="Cargo">Cargo</option>
                    <option value="Clojars">Clojars</option>
                    <option value="CocoaPods">CocoaPods</option>
                    <option value="Go">Go</option>
                    <option value="Hackage">Hackage</option>
                    <option value="Hex">Hex</option>
                    <option value="Maven">Maven</option>
                    <option value="Meteor">Meteor</option>
                    <option value="NPM">NPM</option>
                    <option value="NuGet">NuGet</option>
                    <option value="Packagist">Packagist</option>
                    <option value="PlatformIO">PlatformIO</option>
                    <option value="Pub">Pub</option>
                    <option value="Puppet">Puppet</option>
                    <option value="Pypi">Pypi</option>
                    <option value="Rubygems">Rubygems</option>
                </select>
            </div>

            <!-- Tab graph switch -->
            <div class="w-1/2 h-full pt-16">
                <div class="h-buttonheight flex flex-row justify-around items-stretch gap-x-1">
                    <button id="cont-button" class="w-full h-full bg-primary hover:bg-purple-900 text-white text-lg font-semibold rounded-t-2xl" onclick="updateTab('cont', null)">Contributors</button>
                    <button id="comm-button" class="w-full h-full bg-gray-300 hover:bg-gray-500 text-white text-lg font-semibold rounded-t-2xl" onclick="updateTab('comm', null)">Commits</button>
                </div>

                <!-- Interactive charts -->
                <div id="cont" alt="Graph1" style="display: show" class="flex-col items-center w-full h-full">                
                    <a href="#" class="hover:opacity-75 my-4 md:w-3/3">
                        <figure class="highcharts-figure">
                            <div id="cont-1"></div>
                            <!-- JS file link -->
                            <script> 
                                parseData("Contributor", "All");
                                graphContributor("1");
                            </script>
                            <script src="https://blacklabel.github.io/grouped_categories/grouped-categories.js"></script>    
                        </figure>
                    </a>
                </div>
        
                <div id="comm" alt="Graph1" style="display: none" class="flex-col items-center w-full h-full">
                    <a href="#" class="hover:opacity-75 my-4 md:w-3/3">
                        <figure class="highcharts-figure">
                            <div id="comm-1"></div> 
                            <!-- JS file link -->
                            <script src="https://blacklabel.github.io/grouped_categories/grouped-categories.js"></script>    
                        </figure>
                    </a>
                </div>

                <!-- Data source description -->
                <div class="dropdowns mt-8">
                    <h2 class="font-medium leading-tight text-1xl mt-0 mb-2 text-black-800">
                        <i>Data Sources</i>
                    </h2>
                    <p>
                        We use OSS libraries from Libraries.io for our data source, 
                        <button onclick="showDataDescription()"><b>extracting a list of OSS infrastructural projects.</b>
                        </button> For
                        Libraries.io, we downloaded the dump of January 12, 2020,
                        from the website. In this study, we consider a GITHUB project
                        registered at Libraries.io as an OSS project. Among the 38
                        package managers hosted on Libraries.io, we picked the 20
                        largest ones to conduct our analysis. We consider each package
                        manager as an ecosystem.
                    </p>

                    <div id="dataDescription"></div>
                </div>
            </div>

            <!-- Scroll to bottom button -->
            <button
                type="button"
                data-mdb-ripple="true"
                data-mdb-ripple-color="light"
                class="inline-block p-3 bg-purple-600 text-white font-medium text-xs leading-tight uppercase rounded-full shadow-md hover:bg-purple-700 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out hidden bottom-5 right-5 fixed"
                id="btn-to-bottom"
                onclick="scrollToBottom()"
            >
            Read about Data Sources
            </button>
            <script src="js/scroll.js"></script>

        </div>

        <footer id="footer" class="pt-24"></footer>
        <script> 
            $(function(){
                $("#footer").load("footer.html"); 
            });
        </script> 
    </div>
</body>
</html>